# UV-based Private Installation, Data Packaging, and Linux Desktop Support (v0.58.0-beta)

## üéØ Overview

This PR implements a comprehensive installation and distribution system for Hei-DataHub, making it easy to install, run, and distribute without manual repository cloning or environment setup.

**Version:** `0.58.0-beta` "Streamline"

---

## ‚ú® Features

### 1Ô∏è‚É£ UV-Based Private Installation

Users can now install Hei-DataHub directly from the private repository using UV:

**Ephemeral (one-time use):**
```bash
uvx "git+ssh://git@github.com/0xpix/Hei-DataHub.git@main#egg=hei-datahub"
```

**Persistent (global install):**
```bash
uv tool install --from "git+ssh://git@github.com/0xpix/Hei-DataHub.git@main#egg=hei-datahub" hei-datahub
```

**Features:**
- ‚úÖ No repository cloning required
- ‚úÖ SSH and HTTPS+token authentication
- ‚úÖ Version pinning support (tags, branches, commits)
- ‚úÖ Cross-platform (Linux, macOS, Windows)
- ‚úÖ Isolated installation (no conflicts)

---

### 2Ô∏è‚É£ Complete Data & Asset Packaging

Fixed the "missing data files" issue by properly including all non-code assets:

**Changes:**
- Updated `pyproject.toml` with `[tool.setuptools.package-data]`
- Added `MANIFEST.in` for source distributions
- Created `hei_datahub` alias package for naming consistency
- Added `__main__.py` for proper module execution

**Result:** All data, config, schema, and asset files now included in installations.

---

### 3Ô∏è‚É£ Linux Desktop Integration

Two options for desktop integration:

#### A. Desktop Launcher (for UV installs)
```bash
bash scripts/create_desktop_entry.sh
```

Creates a `.desktop` entry in the application menu.

#### B. Standalone Binary
```bash
bash scripts/build_desktop_binary.sh
```

Creates a PyInstaller binary (no Python required on target system).

**Bonus:** GitHub Actions workflow for automated binary builds and AppImage creation.

---

### 4Ô∏è‚É£ Comprehensive Documentation

New documentation directory: `docs/installation/`

**Files:**
- `README.md` - Installation overview
- `uv-quickstart.md` - UV installation guide
- `private-repo-access.md` - SSH and token setup
- `windows-notes.md` - Windows-specific instructions
- `desktop-version.md` - Desktop launcher guide
- `troubleshooting.md` - Common issues & solutions

**Main README updated** with UV quickstart section.

---

## üìù Changes

### Added Files

#### Core Package
- `src/mini_datahub/__main__.py` - Module entry point
- `src/hei_datahub/__init__.py` - Alias package
- `src/hei_datahub/__main__.py` - Alias entry point
- `MANIFEST.in` - Package data manifest
- `CHANGELOG.md` - Version history

#### Scripts
- `scripts/create_desktop_entry.sh` - Desktop launcher script
- `scripts/build_desktop_binary.sh` - Binary build script

#### Documentation
- `docs/installation/README.md`
- `docs/installation/uv-quickstart.md`
- `docs/installation/private-repo-access.md`
- `docs/installation/windows-notes.md`
- `docs/installation/desktop-version.md`
- `docs/installation/troubleshooting.md`

#### CI/CD
- `.github/workflows/build-binary.yml` - Automated binary builds

### Modified Files

#### Configuration
- `pyproject.toml` - Updated package name, version, data inclusion
- `version.yaml` - Bumped to 0.58.0-beta
- `src/mini_datahub/_version.py` - Auto-generated by sync script
- `README.md` - Added UV installation section

---

## ‚úÖ Testing Checklist

### Installation Methods
- [x] SSH-based `uvx` run
- [x] SSH-based `uv tool install`
- [x] HTTPS+token `uv tool install`
- [x] Version pinning (tag/branch)
- [x] Traditional pip install from source

### Data Packaging
- [x] Data files included in installation
- [x] Config files accessible
- [x] SQL schemas bundled
- [x] No "FileNotFoundError" on first run

### Desktop Integration
- [x] Desktop entry script creates launcher
- [x] Launcher appears in application menu
- [x] PyInstaller binary builds successfully
- [x] Binary runs standalone (tested on Ubuntu 22.04)

### Documentation
- [x] All links work
- [x] Code examples tested
- [x] Windows instructions verified (PowerShell)
- [x] Troubleshooting guide covers common issues

### Cross-Platform
- [x] Linux (Ubuntu 22.04)
- [x] macOS (tested on macOS 13+)
- [x] Windows (PowerShell tested)

---

## üéØ Acceptance Criteria

All requirements from the feature specification met:

- ‚úÖ Users can install without cloning (via `uvx` or `uv tool install`)
- ‚úÖ Both SSH and token authentication supported
- ‚úÖ All datasets/configs/assets included in installs
- ‚úÖ Linux users can launch from system menu
- ‚úÖ Optional PyInstaller binary available
- ‚úÖ Comprehensive installation documentation
- ‚úÖ Windows installation instructions
- ‚úÖ Feature cleanly isolated in branch

---

## üöÄ Usage Examples

### Quick Start (SSH)
```bash
# One-liner install + run
curl -LsSf https://astral.sh/uv/install.sh | sh && \
  uv tool install --from "git+ssh://git@github.com/0xpix/Hei-DataHub.git@main#egg=hei-datahub" hei-datahub && \
  hei-datahub
```

### Install Specific Version
```bash
uv tool install --from "git+ssh://git@github.com/0xpix/Hei-DataHub.git@v0.58.0-beta#egg=hei-datahub" hei-datahub
```

### Desktop Launcher
```bash
bash scripts/create_desktop_entry.sh
# Look for "Hei-DataHub" in your application menu
```

### Build Binary
```bash
bash scripts/build_desktop_binary.sh
./dist/linux/hei-datahub --version
```

---

## üìö Documentation

All installation methods documented in `docs/installation/`:

- **[Installation Overview](docs/installation/README.md)** - Start here
- **[UV Quickstart](docs/installation/uv-quickstart.md)** - Complete UV guide
- **[Private Repo Access](docs/installation/private-repo-access.md)** - Authentication setup
- **[Windows Notes](docs/installation/windows-notes.md)** - Windows-specific help
- **[Desktop Version](docs/installation/desktop-version.md)** - Desktop integration
- **[Troubleshooting](docs/installation/troubleshooting.md)** - Common issues

---

## üîÑ Migration Guide

### For Existing Users

**If you cloned the repo:**
No changes needed! Continue using:
```bash
source .venv/bin/activate
hei-datahub
```

**To switch to UV install:**
```bash
# Uninstall old version
pip uninstall hei-datahub mini-datahub

# Install with UV
uv tool install --from "git+ssh://git@github.com/0xpix/Hei-DataHub.git@main#egg=hei-datahub" hei-datahub
```

### For New Users

Use UV installation method (see documentation).

---

## üêõ Known Issues

None at this time.

---

## üì¶ Release Notes

See [CHANGELOG.md](CHANGELOG.md) for detailed changes.

**Summary:**
- UV-based installation (no cloning required)
- Fixed data packaging (all assets included)
- Linux desktop launcher support
- Standalone binary build scripts
- Comprehensive installation documentation
- Automated binary builds via GitHub Actions

---

## üë• Review Notes

**For Reviewers:**

1. **Test Installation:** Try UV install on your system
2. **Check Docs:** Review installation guides for clarity
3. **Verify Packaging:** Confirm data files are included
4. **Desktop Launcher:** Test on Linux (if applicable)

**Key Files to Review:**
- `pyproject.toml` - Package configuration
- `MANIFEST.in` - Data inclusion
- `scripts/create_desktop_entry.sh` - Desktop launcher
- `docs/installation/README.md` - Main installation guide
- `.github/workflows/build-binary.yml` - CI automation

---

## üôè Acknowledgments

This PR implements the comprehensive feature specification for v0.58.0-beta, providing a modern installation experience with UV and desktop integration for Linux users.

---

**Ready to merge into `main` after approval!** ‚úÖ
